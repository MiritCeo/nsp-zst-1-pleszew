import{t as C,r as v,w as P,l as D,o as d,c as S,a as b,d as e,b as n,u as a,g as r,m as E,e as c,f as B,h as _,L as x,F,i as m,K as N,M as Y}from"./app.b53879ed.js";import{_ as $}from"./AdminLayout.ea59584d.js";import"./button.esm.3c05891c.js";import{s as G}from"./inputtext.esm.b0b1c258.js";import{s as L}from"./calendar.esm.12e8c0b5.js";import{h as M}from"./moment.9709ab41.js";import{a as T}from"./PrimaryButton.27dfc493.js";import"./ApplicationLogo.66d006a1.js";import"./portal.esm.e4d18dea.js";const h=s=>(N("data-v-452b11ea"),s=s(),Y(),s),H={class:"mt-14 flex flex-row",style:{"background-color":"rgb(184 184 184)"}},U=["href"],W=["href"],Z={class:"max-w-7xl mx-auto mb-14 bg-white p-8 rounded-xl"},J=h(()=>e("h1",{class:"flex justify-center mb-2 font-bold text-lg"}," Podsumowanie projekt\xF3w ",-1)),K={class:"flex justify-between mb-2"},O={class:"font-semibold text-base text-blue-700"},R={class:"flex justify-center mb-2 font-bold text-base"},q={class:"mr-10"},A={class:"ml-10"},Q={class:"block w-full overflow-x-auto"},X={class:"items-center bg-transparent w-full border-collapse"},ee={class:"px-6 bg-blue-50 text-blue-500 align-middle border border-solid border-blue-100 py-3 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"},te=_(" Imi\u0119 i Nazwisko "),oe={class:"pi pi-info-circle"},se=h(()=>e("th",{class:"px-6 bg-blue-50 text-blue-500 align-middle border border-solid border-blue-100 py-3 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"}," Zarobki z projektu ",-1)),ae=h(()=>e("th",{class:"px-6 bg-blue-50 text-blue-500 align-middle border border-solid border-blue-100 py-3 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"}," Ilo\u015B\u0107 Godzin ",-1)),re={key:0,class:"border-t-0 px-6 align-middle border-l-0 border-r-0 whitespace-nowrap p-4"},le={key:1,class:"border-t-0 px-6 text-red-600 align-middle border-l-0 border-r-0 whitespace-nowrap p-4"},de={class:"border-t-0 px-6 align-middle border-l-0 border-r-0 whitespace-nowrap p-4"},ie={class:"border-t-0 px-6 align-middle border-l-0 border-r-0 whitespace-nowrap p-4"},ne={__name:"Project",props:{projects:Object,dateValue:String,searchValue:String},setup(s){const i=s,f=C(i,"dateValue"),u=v(f.value),l=v(f.value);let g=0,w=0;P(l,async(t,p)=>{m.Inertia.get(route("admin.summary.project"),{date:l.value,search:i.searchValue})});async function k(t){m.Inertia.get(route("admin.summary.project"),{search:t.target.value,date:l.value})}async function y(t){m.Inertia.get(route("admin.project.excelCreate",t),{date:l.value})}const j=()=>{l.value=M(u.value).format("YYYY-MM")};return i.projects.forEach(t=>{g+=t.hours,w+=t.earnings}),(t,p)=>{const z=D("tooltip");return d(),S($,null,{default:b(()=>[e("div",H,[e("a",{href:t.route("admin.summary.user"),class:"ml-14 p-3 bg-gray-200 w-32 text-center rounded-tl-lg hover:bg-gray-300",as:"button",method:"GET"}," U\u017Cytkownicy ",8,U),e("a",{href:t.route("admin.summary.project"),class:"p-3 bg-white w-32 text-center rounded-tr-lg",as:"button",method:"GET"}," Projekty ",8,W)]),e("div",Z,[J,e("div",K,[e("h3",O,[n(a(G),{type:"text",autofocus:"",value:i.searchValue,placeholder:"Wyszukaj projekt",onChange:k},null,8,["value"])]),n(a(L),{modelValue:u.value,"onUpdate:modelValue":p[0]||(p[0]=o=>u.value=o),"date-select":j(),view:"month",dateFormat:"yy-mm",placeholder:"Wybierz Dat\u0119"},null,8,["modelValue","date-select"])]),e("div",R,[e("div",q," Ilo\u015B\u0107 godzin razem: "+r(a(g)),1),e("div",A," Zarobki Firmy: "+r(a(w)),1)]),e("div",Q,[e("table",X,[e("thead",null,[e("tr",null,[e("th",ee,[te,E(e("div",oe,null,512),[[z,{value:"Je\u015Bli nazwa projektu jest na czerwono, to trzeba sprawdzi\u0107, czy wszyscy u\u017Cytkownicy projektu maj\u0105 uzupe\u0142nion\u0105 kart\u0119 pracownika, poniewa\u017C zarobki z projektu mog\u0105 si\u0119 nie zgadza\u0107!",class:"custom-tooltip"},void 0,{right:!0}]])]),se,ae])]),e("tbody",null,[(d(!0),c(F,null,B(s.projects,(o,V)=>(d(),c("tr",{key:V},[o.hours===o.checkHours?(d(),c("td",re,[n(a(x),{onClick:I=>y(o)},{default:b(()=>[_(r(o.name),1)]),_:2},1032,["onClick"])])):(d(),c("td",le,[n(a(x),{onClick:I=>y(o)},{default:b(()=>[_(r(o.name),1)]),_:2},1032,["onClick"])])),e("td",de,r(o.earnings),1),e("td",ie,r(o.hours),1)]))),128))])])])])]),_:1})}}},we=T(ne,[["__scopeId","data-v-452b11ea"]]);export{we as default};
